<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title># 对 Unity 预制体的调研 | Notes.HF</title>
  <meta name="author" content="HuFei">
  
  <meta name="description" content="Notes of Daily Learning">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="# 对 Unity 预制体的调研"/>
  <meta property="og:site_name" content="Notes.HF"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Notes.HF" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Notes.HF</a></h1>
  <h2><a href="/">notes of buaaGS1521AA9.hufei | 笔记 · 专注 3D 游戏开发</a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/fighting/gamedev">Game Development</a></li>
    
      <li><a href="/fighting/finance">Finance Knowlodge</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
<div class="alignleft" style="margin-top: 15px">


  <iframe src="http://ghbtns.com/github-btn.html?user=Isayes&type=follow"
  allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe>

</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="wrapper"><article class="page">
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/fighting/gamedev/013/index.html"># 对 Unity 预制体的调研</a></h1>
  

      
    </header>
    <div class="entry">
      
        <h2 id="1-什么是预制体"><a href="#1-什么是预制体" class="headerlink" title="1. 什么是预制体 #"></a>1. 什么是预制体 #</h2><p>在进行一些功能开发的时候, 我们常常将一些能够复用的对象制作成<code>.prefab</code>的预制体，然后将预制体存放到 Resources 目录之下, 使用时再动态加载到场景中并进行实例化. 例如 : 子弹、特效甚至音频等, 都能制作成预制体.</p>
<p>预制体英文名称即 Prefab 是一种资源类型 —— 存储在项目视图中的一种可重复使用的游戏对象.</p>
<h2 id="2-预制体的优点"><a href="#2-预制体的优点" class="headerlink" title="2. 预制体的优点 #"></a>2. 预制体的优点 #</h2><p>预制体可以多次放入到多个场景中;<br>当你添加一个预制体到场景中, 就创建了它的一个实例;<br>所有的预制体实例链接到原始预制, 基本上等于就是它的克隆;<br>不管你的项目存在多少实例, 当你对预制体进行任何更改, 你将看到这些更改将应用于所有的实例上;</p>
<h2 id="3-使用预制体注意的几点"><a href="#3-使用预制体注意的几点" class="headerlink" title="3. 使用预制体注意的几点 #"></a>3. 使用预制体注意的几点 #</h2><h3 id="3-1-创建预制体"><a href="#3-1-创建预制体" class="headerlink" title="3.1 创建预制体 ##"></a>3.1 创建预制体 ##</h3><p>为了创建一个预制, 必须使用菜单构造一个新的空白预制, 这个空预制不包含游戏对象, 还不能创建它的一个实例. 想象一个新的预制为一个空的容器, 等着用游戏对象数据来填充. 一个新的、空的预置不能实例化直到你用一个游戏对象来填充它.</p>
<p><img src="http://images2015.cnblogs.com/blog/1098699/201703/1098699-20170315164341979-299063676.png" alt=""></p>
<p>要填充预制, 需要使用一个场景中已经创建的游戏对象.</p>
<ul>
<li>从菜单选择 Assets-&gt;Create-&gt;Prefab 并为新预制命名;</li>
<li>在层次视图 Hierarchy View 中, 选择你想使之成为预制的游戏对象;</li>
<li>在层次视图中拖动该对象到项目视图中的新预置上;</li>
</ul>
<p>当完成这些步骤之后, 游戏对象和其所有子对象就已经复制到了预置的数据中. 该预置现在可以在多个实例中重复使用, 层次视图中的原始游戏对象已经成为了该预置的一个实例.</p>
<h2 id="3-2-预制体实例"><a href="#3-2-预制体实例" class="headerlink" title="3.2 预制体实例 ##"></a>3.2 预制体实例 ##</h2><p>可以在程序运行时来执行实例化操作, 创建预制物体, 在脚本中引用预制物体. 相对而言脚本中代码也比较简洁, 需要修改也比较简单只要对预制物体进行修改就可以了, 不需要添加其他修改代码, 与普通脚本相比预制创建的实例化物体, 全部都是预制物体的克隆, 可以提高程序运行效率和节省内存空间.</p>
<p>要在当前的场景中创建预制体的一个实例, 就从项目视图拖动预制到场景中或层次视图中即可. 此实例是链接到该预制的, 如下图在层次视图中使用蓝色文字显示.</p>
<p><img src="http://images2015.cnblogs.com/blog/1098699/201703/1098699-20170315164400541-317063633.png" alt=""></p>
<p>如果选择了一个预制的实例, 并希望做些改变以影响到所有实例, 可以在检视视图中单击 Select 按钮选择预制源.</p>
<p><strong> - 继承 Inheritance </strong></p>
<p>继承是指当预制源发生变化, 这些变化将应用于所有已链接的游戏对象.</p>
<p>例如, 如果添加一个新的脚本到预制, 所有已链接的游戏对象都将立刻包含该脚本. 但是它有可能改变一个单独实例的属性, 同时保持链接. 改变任何一个预制实例的属性, 可以看到变量名称变为粗体, 现在该变量可以被重写, 所有的重写属性不会影响预制源的变化.</p>
<p>这使你可以修改预制实例使它们变得独一无二, 而不破坏它们与预置源之间的链接.</p>
<p><img src="http://images2015.cnblogs.com/blog/1098699/201703/1098699-20170315164422463-1445598651.png" alt=""></p>
<p><strong> - 破坏和恢复预制链接 Breaking and Restoring Prefab Links </strong></p>
<p>有些行为将破坏单个实例及其预制源之间的链接, 但链接总是可以恢复的.</p>
<p>下面的行为将破坏链接 :</p>
<ul>
<li>Adding or removing a Component 添加或删除一个组件;</li>
<li>Adding or removing a child GameObject 添加或删除一个子对象;</li>
</ul>
<p>这些行为将引起一个破坏链接的警告/确认消息, 确认该行为将破坏链接. 这样, 更改预制源将不再影响已破坏了链接的实例.<br>要恢复该链接, 你可以在实例的检视视图中单击 Reconnect 或 Apply 按钮.</p>
<ul>
<li>Reconnect 将丢弃与预置源的所有差别;</li>
<li>Apply 将复制所有差别到预置源中（包括所有其它预置实例）;</li>
</ul>
<p><strong> - 导入预制 Imported Prefabs </strong></p>
<p>当你放置一个网格资源到你的资源文件夹中, Unity 自动导入文件并生成一些类似于一个预制的网格. 这实际上并不是一个预制, 它只是这个资源文件本身. 在进行正常预制工作时, 资源的实例化名没有某些限制.</p>
<p>资源是作为一个游戏对象存在于场景中的实例, 链接到源资源代替一个正常的预置.</p>
<p>作为正常的游戏对象, 组件可以被添加和删除. 但是, 你不能应用任何变动到这个资源本身, 因为这样将给资源文件本身添加数据. 如果你创建一些你想要重复使用的东西, 你应该将资源实例制成一个预制.</p>
<h2 id="4-加载预制体并实例化的代码"><a href="#4-加载预制体并实例化的代码" class="headerlink" title="4. 加载预制体并实例化的代码 #"></a>4. 加载预制体并实例化的代码 #</h2><p>将预制体放到 Resource 文件夹下<br><code>GameObject.Instantiate(Resource.Load(&quot;预制体的名字&quot;))；</code><br>或者<br><code>GameObject instance = Instantiate(Resources.Load&lt;GameObject&gt;(&quot;预制体的名字&quot;));</code></p>
<h2 id="5-学习资料来源"><a href="#5-学习资料来源" class="headerlink" title="5. 学习资料来源 #"></a>5. 学习资料来源 #</h2><p><a href="http://www.ceeger.com/Manual/Prefabs.html" target="_blank" rel="external">http://www.ceeger.com/Manual/Prefabs.html</a><br><a href="http://blog.csdn.net/yuxikuo_1/article/details/47836975" target="_blank" rel="external">http://blog.csdn.net/yuxikuo_1/article/details/47836975</a><br><a href="http://blog.csdn.net/linshuhe1/article/details/51355198" target="_blank" rel="external">http://blog.csdn.net/linshuhe1/article/details/51355198</a></p>
<p>End.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>
<!-- hackish -->
</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 HuFei
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="http://apps.bdimg.com/libs/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>