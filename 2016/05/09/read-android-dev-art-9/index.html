<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title># 读 Android 开发艺术探索 &amp;9 | Notes.HF</title>
  <meta name="author" content="HuFei">
  
  <meta name="description" content="Notes of Daily Learning">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="# 读 Android 开发艺术探索 &amp;9"/>
  <meta property="og:site_name" content="Notes.HF"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Notes.HF" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Notes.HF</a></h1>
  <h2><a href="/">notes of buaaGS1521AA9.hufei | 用来笔记一下</a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/more">分类</a></li>
    
      <li><a href="/works">作品</a></li>
    
      <li><a href="http://blog.csdn.net/heartyhu">博客</a></li>
    
      <li><a href="http://weibo.com/khufly">微博</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
<div class="alignleft" style="margin-top: 15px">


  <iframe src="http://ghbtns.com/github-btn.html?user=Isayes&type=follow"
  allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe>

</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title"># 读 Android 开发艺术探索 &amp;9</h1>
  

      
        <p class="published">
          Published: <time datetime="2016-05-09T03:35:52.000Z">2016-05-09</time>
        </p>
      
    </header>
    <div class="entry">
      
        <p>关键词：View 动画 / 帧动画 / 属性动画</p>
<p>Android 动画分为三种：View 动画、帧动画和属性动画。本次笔记初步梳理了跟 Android 动画相关的基本知识点，便于今后温故知新，查漏补缺。<br><a id="more"></a></p>
<h2 id="1-View-动画"><a href="#1-View-动画" class="headerlink" title="1. View 动画 #"></a>1. View 动画 #</h2><p>需要知道的几点：</p>
<ol>
<li>View 动画的作用对象是 View；</li>
<li>只支持 4 种类型：平移（Translate）TranslateAnimation、旋转（Rotate）RotateAnimation、缩放（Scale）ScaleAnimation、不透明度（Alpha）AlphaAnimation；</li>
<li>虽然帧动画也属于 View 动画，但是其表现形式与以上四种的变换效果不同；</li>
<li>View 动画建议采用 XML 来定义动画，XML 的可读性比较好；</li>
<li>使用 View 动画的特殊场景：ViewGroup 中可以控制子元素的出场效果，在 Activity 中可以实现不同 Activity 之间的切换效果；</li>
<li>LayoutAnimation 也是一个 View 动画，作用于 ViewGroup，常常被用在 ListView 上；</li>
<li>Activity 可以自定义切换效果，主要用到 overridePendingTranslation(int enterAnim, int exitAnim) 方法，需要在 startActivty(Intent) 或者 finish() 之后调用它才能生效；</li>
</ol>
<p>PS 帧动画：<br>帧动画其实也属于 View 动画，但是不同的是系统提供了另一个类 AnimationDrawable 来使用帧动画，顺序播放一组实现预定义好的图片。比较简单但是容易引起 OOM。</p>
<h2 id="2-属性动画"><a href="#2-属性动画" class="headerlink" title="2. 属性动画 #"></a>2. 属性动画 #</h2><p>需要知道的几点：</p>
<ol>
<li>对作用对象进行了扩展，属性动画可以对任何对象做动画，甚至还可以没有对象；想要实现比较绚丽的动画，需要知道：ValueAnimator、ObjectAnimator 和 AnimatorSet 这三个动画类，其中 ObjectAnimator 继承自 ValueAnimator，AnimatorSet 是动画集合可以定义一组动画；</li>
<li>属性动画默认的时间间隔是 300 ms，默认帧率 10 ms/帧;</li>
<li>属性动画可以达到的效果是：在一个时间间隔内，完成对象从一个属性值到另一个属性值的改变，几乎是无所不能的；</li>
<li>实际开发中建议使用代码的方式来实现属性动画，因为更简单并且通过代码动态地创建属性动画；</li>
<li>属性动画的工作原理：<br>要求动画作用的对象提供该属性的 set 方法，属性动画根据你传递的该属性初始值和最终值，以动画的效果多次去调用 set 方法。每次传递给 set 方法的值都不一样，确切来说是随着时间的推移，所传递的值越来越接近最终值；</li>
<li>属性动画中的插值器（Interpolator）和估值器（TypeEvaluator）很重要，是实现非匀速动画的重要手段；插值器的作用是根据当前时间流逝的百分比来计算出当前属性值改变的百分比。估值器的作用是根据当前属性改变的百分比来计算改变后的属性值；</li>
<li>属性动画要求该属性有 set 方法和 get 方法（可选）</li>
<li>可以自定义插值器和估值器，它们都是一个接口，且内部都只有一个方法，我们只要派生一个类实现接口就可以了，然后就可以做出千奇百怪的效果；</li>
<li>属性动画需要运行在 Looper 的线程里；</li>
</ol>
<h2 id="3-使用动画需要特别注意的几点"><a href="#3-使用动画需要特别注意的几点" class="headerlink" title="3. 使用动画需要特别注意的几点 #"></a>3. 使用动画需要特别注意的几点 #</h2><ol>
<li>OOM 问题。尽量避免使用帧动画；</li>
<li>内存泄漏问题。属性动画中有一类是无限循环的动画，需要在 Activity 的退出时及时停止，否则导致 Activity 无法释放而造成内存泄漏，View 动画不存在这个问题；</li>
<li>View 动画是对 View 的影像做动画，并不是真的改变 View 的状态，防止 setVisibility(View.GONE) 失效，只需要调用 view.clearAnimation() 清除 View 动画即可解决此问题；</li>
<li>尽量使用 dp，使用 px 会导致在不同的设备上有不同的效果；</li>
<li>建议使用动画的过程中，开启硬件加速提高动画的流畅性；</li>
</ol>
<p>End.</p>
<p>Note by <a href="http://isayes.github.io" target="_blank" rel="external">HF</a>.<br>Learn from 《Android 开发艺术探索》</p>
<hr>

      
    </div>
    <footer>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>
<!-- hackish -->

  
</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 HuFei
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="http://apps.bdimg.com/libs/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>