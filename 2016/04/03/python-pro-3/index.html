<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title># Python 进阶&amp;3 面向对象编程 | Notes.HF</title>
  <meta name="author" content="HuFei">
  
  <meta name="description" content="Notes of Daily Learning">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="# Python 进阶&amp;3 面向对象编程"/>
  <meta property="og:site_name" content="Notes.HF"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Notes.HF" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Notes.HF</a></h1>
  <h2><a href="/">notes of buaaGS1521AA9.hufei | 用来笔记一下</a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/more">分类</a></li>
    
      <li><a href="/works">作品</a></li>
    
      <li><a href="http://blog.csdn.net/heartyhu">博客</a></li>
    
      <li><a href="http://weibo.com/khufly">微博</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
<div class="alignleft" style="margin-top: 15px">


  <iframe src="http://ghbtns.com/github-btn.html?user=Isayes&type=follow"
  allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe>

</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title"># Python 进阶&amp;3 面向对象编程</h1>
  

      
        <p class="published">
          Published: <time datetime="2016-04-03T01:46:41.000Z">2016-04-03</time>
        </p>
      
    </header>
    <div class="entry">
      
        <p>关键词：Python / 面向对象 / 实例 / </p>
<a id="more"></a>
<h2 id="1-面向对象"><a href="#1-面向对象" class="headerlink" title="1. 面向对象 #"></a>1. 面向对象 #</h2><p>[ 对面向对象的理解：]</p>
<ul>
<li>面向对象编程是一种程序设计范式</li>
<li>把程序看作不同对象的相互调用</li>
<li>对现实世界建立对象模型</li>
</ul>
<p>[ 基本思想：]</p>
<p>类和实例：类用于定义抽象类型；实例根据类的定义被创建出来；<br>类  →→  class Person : pass<br>实例 →→ xiaoming = new Person() xiaojun = new Person()</p>
<p>[ 数据封装的思想：]<br>不同的实例，具有相同的数据类型，但是拥有不同的属性。</p>
<pre><code>class Person:
    def __init__(self, name):
        self.name = name
p1 = Person(&apos;Xiao Ming&apos;)
p2 = Person(&apos;Xiao Jun&apos;)
p3 = Person(&apos;Xiao Hong&apos;)
</code></pre><h2 id="2-定义并创建实例"><a href="#2-定义并创建实例" class="headerlink" title="2. 定义并创建实例 #"></a>2. 定义并创建实例 #</h2><p>在 Python 中，类通过 class 关键字定义。以 Person 为例，定义一个 Person 类如下：</p>
<pre><code>class Person(object):
    pass    # pass就是什么也不做，只是为了防止语法错误，就相当于一个占位符
</code></pre><p>按照 Python 的编程习惯，类名以大写字母开头，紧接着是 (object)，<strong>表示该类是从哪个类继承下来的</strong>。类的继承将在后面的章节讲解，现在我们只需要简单地从 object 类继承。</p>
<p>有了 Person 类的定义，就可以创建出具体的 xiaoming、xiaohong 等实例。创建实例使用类名 +()，类似函数调用的形式创建：</p>
<pre><code>xiaoming = Person()
xiaohong = Person()
</code></pre><p>例子：<br>定义Person类，并创建出两个实例，打印实例，再比较两个实例是否相等。<br>答案：  </p>
<pre><code>class Person(object):
    pass
xiaoming = Person()
xiaohong = Person()
print xiaoming
print xiaohong
print xiaoming == xiaohong
</code></pre><h2 id="3-创建实例属性"><a href="#3-创建实例属性" class="headerlink" title="3. 创建实例属性 #"></a>3. 创建实例属性 #</h2><p>虽然可以通过 Person 类创建出 xiaoming、xiaohong 等实例，但是这些实例看上去除了地址不同外，没有什么其他不同。在现实世界中，区分 xiaoming、xiaohong 要依靠他们各自的名字、性别、生日等属性。</p>
<p>如何让每个实例拥有各自不同的属性？由于 Python 是动态语言，<strong>对每一个实例，都可以直接给他们的属性赋值</strong>，例如，给 xiaoming 这个实例加上 name、gender 和 birth 属性：</p>
<pre><code>xiaoming = Person()
xiaoming.name = &apos;Xiao Ming&apos;
xiaoming.gender = &apos;Male&apos;
xiaoming.birth = &apos;1990-1-1&apos;
</code></pre><p>给 xiaohong 加上的属性不一定要和 xiaoming 相同：</p>
<pre><code>xiaohong = Person()
xiaohong.name = &apos;Xiao Hong&apos;
xiaohong.school = &apos;No. 1 High School&apos;
xiaohong.grade = 2
</code></pre><p>实例的属性可以像普通变量一样进行操作：</p>
<pre><code>xiaohong.grade = xiaohong.grade + 1
</code></pre><p>例子：<br>请创建包含两个 Person 类的实例的 list，并给两个实例的 name 赋值，然后按照 name 进行排序。<br>答案：  </p>
<pre><code>class Person(object):
    pass

p1 = Person()
p1.name = &apos;Bart&apos;

p2 = Person()
p2.name = &apos;Adam&apos;

p3 = Person()
p3.name = &apos;Lisa&apos;

L1 = [p1, p2, p3]
L2 = sorted(
    L1, lambda p1, p2 : cmp(p1.name, p2.name)
    )

print L2[0].name
print L2[1].name
print L2[2].name
</code></pre><p>结果：<br>Adam<br>Bart<br>Lisa  </p>
<h2 id="4-初始化实例属性"><a href="#4-初始化实例属性" class="headerlink" title="4. 初始化实例属性 #"></a>4. 初始化实例属性 #</h2><p>虽然我们可以自由地给一个实例绑定各种属性，但是，现实世界中，一种类型的实例应该拥有相同名字的属性。例如，Person 类应该在创建的时候就拥有 name、gender 和 birth 属性，怎么办？</p>
<p>在定义 Person 类时，可以为 Person 类添加一个特殊的 <strong>init</strong>() 方法，当创建实例时，<strong>init</strong>() 方法被自动调用，我们就能在此为每个实例都统一加上以下属性：</p>
<pre><code>class Person(object):
    def __init__(self, name, gender, birth):
        self.name = name
        self.gender = gender
        self.birth = birth
</code></pre><p><strong><strong>init</strong>() 方法的第一个参数必须是 self</strong>（也可以用别的名字，但建议使用习惯用法），后续参数则可以自由指定，和定义函数没有任何区别。</p>
<p>相应地，创建实例时，就必须要提供除 self 以外的参数：</p>
<pre><code>xiaoming = Person(&apos;Xiao Ming&apos;, &apos;Male&apos;, &apos;1991-1-1&apos;)
xiaohong = Person(&apos;Xiao Hong&apos;, &apos;Female&apos;, &apos;1992-2-2&apos;)
</code></pre><p>有了<strong>init</strong>()方法，每个Person实例在创建时，都会有 name、gender 和 birth 这3个属性，并且，被赋予不同的属性值，访问属性使用.操作符：</p>
<pre><code>print xiaoming.name
# 输出 &apos;Xiao Ming&apos;
print xiaohong.birth
# 输出 &apos;1992-2-2&apos;
</code></pre><p>要特别注意的是，初学者定义 <strong>init</strong>() 方法常常忘记了 self 参数：</p>
<pre><code>&gt;&gt;&gt; class Person(object):
...     def __init__(name, gender, birth):
...         pass
... 
&gt;&gt;&gt; xiaoming = Person(&apos;Xiao Ming&apos;, &apos;Male&apos;, &apos;1990-1-1&apos;)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: __init__() takes exactly 3 arguments (4 given)
</code></pre><p>这会导致创建失败或运行不正常，因为第一个参数 name 被 Python 解释器传入了实例的引用，从而导致整个方法的调用参数位置全部没有对上。</p>
<p>例子：<br>定义Person类的<strong>init</strong>方法，除了接受 name、gender 和 birth 外，还可接受任意关键字参数，并把他们都作为属性赋值给实例。<br>答案：  </p>
<p>要定义关键字参数，使用 **kw；<br>除了可以直接使用 self.name = ‘xxx’ 设置一个属性外，还可以通过 setattr(self, ‘name’, ‘xxx’) 设置属性。<br>Python 字典的 items 方法作用：是可以将字典中的所有项，以列表方式返回。因为字典是无序的，所以用 items 方法返回字典的所有项，也是没有顺序的。python 字典的 iteritems 方法作用：与 items 方法相比作用大致相同，只是它的返回值不是列表，而是一个迭代器。</p>
<p>Note by <a href="http://isayes.github.io" target="_blank" rel="external">HF</a>.  </p>
<hr>

      
    </div>
    <footer>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>
<!-- hackish -->

  
</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 HuFei
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="http://apps.bdimg.com/libs/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>