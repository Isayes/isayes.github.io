<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title># 关于 Android Retrofit 首先需要知道的几点 | Notes.HF</title>
  <meta name="author" content="HuFei">
  
  <meta name="description" content="Notes of Daily Learning">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="# 关于 Android Retrofit 首先需要知道的几点"/>
  <meta property="og:site_name" content="Notes.HF"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Notes.HF" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Notes.HF</a></h1>
  <h2><a href="/">notes of buaaGS1521AA9.hufei | 用来笔记一下</a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/more">分类</a></li>
    
      <li><a href="/works">作品</a></li>
    
      <li><a href="http://blog.csdn.net/heartyhu">博客</a></li>
    
      <li><a href="http://weibo.com/khufly">微博</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
<div class="alignleft" style="margin-top: 15px">


  <iframe src="http://ghbtns.com/github-btn.html?user=Isayes&type=follow"
  allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe>

</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title"># 关于 Android Retrofit 首先需要知道的几点</h1>
  

      
        <p class="published">
          Published: <time datetime="2016-05-31T16:08:05.000Z">2016-06-01</time>
        </p>
      
    </header>
    <div class="entry">
      
        <p>关键词：Retrofit / HTTP Client</p>
<p>Retrofit 是一个 RESTful 的 HTTP 网络请求框架的封装。注意这里并没有说它是网络请求框架，主要原因在于网络请求的工作并不是 Retrofit 来完成的。Retrofit 2.0 开始内置 OkHttp，前者专注于接口的封装，后者专注于网络请求的高效，二者分工协作。</p>
<a id="more"></a>
<h2 id="1-了解"><a href="#1-了解" class="headerlink" title="1. 了解 #"></a>1. 了解 #</h2><p>1）<a href="http://www.cnblogs.com/angeldevil/p/3757335.html" target="_blank" rel="external">http://www.cnblogs.com/angeldevil/p/3757335.html</a><br>此篇博客主要简介了： 对 Retrofit 使用步骤的总结、对相关 Annotation 注解的解释<br>2）<a href="http://bugly.qq.com/bbs/forum.php?mod=viewthread&amp;tid=1117#rd" target="_blank" rel="external">深入浅出 Retrofit，这么牛逼的框架你们还不来看看？</a><br>此篇文章是腾讯 Bugly 团队写的，对 Retrofit 介绍的很规范专业<br>3）<a href="http://blog.csdn.net/u013022222/article/details/51583830" target="_blank" rel="external">Retrofit 分析与实现</a><br>一个简单的 Demo 演示</p>
<h2 id="2-理论总结"><a href="#2-理论总结" class="headerlink" title="2. 理论总结 #"></a>2. 理论总结 #</h2><p>Retrofit 是目前非常流行的网络框架，效率高，实现简单。运用 <strong>注解和动态代理</strong> ，极大地简化了网络请求的繁琐步骤，非常适合处理REST ful网络请求  </p>
<p><strong>特点</strong>： </p>
<ul>
<li>性能好，处理快，使用简单，目前最流行的 HTTP Client 库之一，速度上比 volley 更快</li>
<li>使用 REST API 非常方便</li>
<li>支持 NIO (新的 IO API，替换标准的 Java IO API)</li>
<li>Retrofit 默认使用 OKHttp 处理网络请求</li>
<li>默认使用 Gson 解析  </li>
</ul>
<p><strong>网络访问常用注解接口</strong>：  </p>
<ol>
<li>@GET GET 网络请求方式</li>
<li>@POST POST 网络请求方式</li>
<li>@Headers 头信息参数</li>
<li>@Path 路径参数。替换 url 地址中 “{“ 和 “}” 所括号的部分</li>
<li>@Query 查询参数。将在 url 地址中追加类似 “page=1” 的字符串，形成提交给服务器端的请求参数</li>
<li>@QueryMap 查询参数集合。在 url 地址中追加类似 “type=text&amp;count=30&amp;page=1” 的字符串</li>
<li>@FormUrlEncoded 对表单域中填写内容进行编码处理，避免乱码</li>
<li>@Field 指定 form 表单域中每个控件的 name 及其相应数据</li>
<li>@FieldMap 表单域集合</li>
<li>@Multipart POST 提交分块请求，如果上传文件，必须指定 Multipart</li>
<li>@Part POST 提交分块请求</li>
<li>@Body POST 提交分块请求</li>
</ol>
<p><strong>代码实现步骤</strong>：  </p>
<ol>
<li>定义一个接口（封装URL地址和数据请求）</li>
<li>实例化 Retrofit</li>
<li>通过 Retrofit 实例创建接口服务对象</li>
<li>Call 对象执行请求（异步、同步请求）</li>
</ol>
<p><strong>GET 网络请求中的接口写法</strong>：  </p>
<ol>
<li><p>GET 请求，方法中无参数<br>@GET(“article/list/latest?page=1”)<br>Call<responsebody> getLatestString();</responsebody></p>
</li>
<li><p>GET 请求，方法中指定 @Path参数和Query参数。@Path 用于替换 url 地址中 “{“ 和 “}” 所括号的部分。<br>@Query 将在 url 地址中追加类似 “page=1” 的字符串，形成提交给服务器端的请求参数<br>@GET(“article/list/{type}?”)<br>Call<qiushimodel> getLatestList(@Path(“type”) String type, @Query(“page”) int page);</qiushimodel></p>
</li>
<li><p>GET 请求，提交表单数据。方法中定义@QueryMap参数。@QueryMap参数将在url地址中追加类似”type=text&amp;count=30&amp;page=1” 的字符串<br>@GET(“MyWeb/RegServlet”)<br>Call<responsebody> getKeyValuePair(@QueryMap Map<string, string=""> map);</string,></responsebody></p>
</li>
<li><p>GET请求，方法无参数。但在@Url里定义完整URL路径，这种情况下BaseUrl会被忽略。<br>@GET(“<a href="http://img.xx.com/aaa.jpg" target="_blank" rel="external">http://img.xx.com/aaa.jpg</a>“)<br>Call<responsebody> getNetworkData();</responsebody></p>
</li>
</ol>
<p>未完待续….  </p>
<p><br></p>
<p>Note by <a href="http://isayes.github.io" target="_blank" rel="external">HF</a>.  </p>
<hr>

      
    </div>
    <footer>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>
<!-- hackish -->

  
</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 HuFei
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="http://apps.bdimg.com/libs/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>