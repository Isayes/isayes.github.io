<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title># Unity 引擎入门实践 | Notes.HF</title>
  <meta name="author" content="HuFei">
  
  <meta name="description" content="Notes of Daily Learning">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="# Unity 引擎入门实践"/>
  <meta property="og:site_name" content="Notes.HF"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Notes.HF" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Notes.HF</a></h1>
  <h2><a href="/">notes of buaaGS1521AA9.hufei | 用来笔记一下</a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/more">分类</a></li>
    
      <li><a href="/works">作品</a></li>
    
      <li><a href="http://www.cnblogs.com/isayes">博客</a></li>
    
      <li><a href="http://weibo.com/khufly">微博</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
<div class="alignleft" style="margin-top: 15px">


  <iframe src="http://ghbtns.com/github-btn.html?user=Isayes&type=follow"
  allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe>

</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title"># Unity 引擎入门实践</h1>
  

      
        <p class="published">
          Published: <time datetime="2016-11-07T15:41:49.000Z">2016-11-07</time>
        </p>
      
    </header>
    <div class="entry">
      
        <p>关键词：Unity / 入门 / 游戏对象 / 场景 / 快捷键 / Terrain / 资源包</p>
<a id="more"></a>
<h1 id="1-游戏对象和基本操作"><a href="#1-游戏对象和基本操作" class="headerlink" title="1. 游戏对象和基本操作 #"></a>1. 游戏对象和基本操作 #</h1><h2 id="1-1-场景和游戏对象"><a href="#1-1-场景和游戏对象" class="headerlink" title="1.1 场景和游戏对象  #"></a>1.1 场景和游戏对象  #</h2><pre><code>        游戏项目
           |
         /   \
       场景A  场景B ... ...
         |
     /       \
 游戏对象1   游戏对象2 ... ...
    |
  /   \
组件  组件 ... ...
</code></pre><p>场景显示在 Scene 里面，Hierarchy 里面是游戏对象比如 3D Object： Main Camera、Plane等；<br>按住 Q/W/E/R/T 同时点击鼠标操作：Q平移场景/W平移选中的游戏对象/E旋转/R缩放工具/T操作2D的精灵工具，分别对应 Unity 编辑器左上角的功能图标的快捷键；<br>鼠标右键：移动视图；</p>
<p>[游戏对象]  </p>
<ul>
<li>一个游戏项目由多个场景组成，在场景中，一个角色，一个模型，一个特效，都是游戏对象。</li>
<li>场景就是由多个游戏对象组成的；</li>
<li>每个游戏对象身上都会有多个组件，使游戏对象具备相应的特性、实现相应的功能；</li>
</ul>
<h2 id="1-2-快捷键操作"><a href="#1-2-快捷键操作" class="headerlink" title="1.2 快捷键操作  #"></a>1.2 快捷键操作  #</h2><ul>
<li>选中任何游戏对象，按F键或者双击，都可以定位到该游戏对象；</li>
<li>按下鼠标右键 + WASD 键进行场景漫游；</li>
<li>按下 Alt + 鼠标左键旋转视角；</li>
<li>按下鼠标右键旋转视角；</li>
<li>QWERT工具分别是手型工具、平移工具、旋转工具、缩放工具和 2D 工具；</li>
</ul>
<h2 id="1-3-Terrain-地形系统"><a href="#1-3-Terrain-地形系统" class="headerlink" title="1.3 Terrain 地形系统  #"></a>1.3 Terrain 地形系统  #</h2><ul>
<li>提升/下沉地形工具</li>
<li>平坦地形工具</li>
<li>平滑地形工具</li>
<li>植树工具</li>
<li>地表细节工具</li>
</ul>
<p>从网上找一些地形贴图资源，自己使用地形编辑器编辑一个新的地图；</p>
<h2 id="1-4-资源包的导入"><a href="#1-4-资源包的导入" class="headerlink" title="1.4 资源包的导入  #"></a>1.4 资源包的导入  #</h2><p>.unitypackage 后缀文件</p>
<h2 id="1-5-摄像机"><a href="#1-5-摄像机" class="headerlink" title="1.5 摄像机  #"></a>1.5 摄像机  #</h2><p>在Unity中摄像机决定游戏最终的显示效果<br>同一个场景中允许存在多个摄像机</p>
<h2 id="1-6-世界坐标系和本地坐标系"><a href="#1-6-世界坐标系和本地坐标系" class="headerlink" title="1.6 世界坐标系和本地坐标系  #"></a>1.6 世界坐标系和本地坐标系  #</h2><p>世界坐标 Global 是整个 3D 场景的坐标系；<br>本地坐标 Local 是某个游戏对象内独立的坐标系；<br>（游戏对象可以有子对象，世界坐标与本地坐标是相对的）</p>
<h2 id="1-7-网格"><a href="#1-7-网格" class="headerlink" title="1.7 网格"></a>1.7 网格</h2><p>要想让模型出来，网格是必须的（好比人的骨架）；  </p>
<h2 id="1-8-纹理"><a href="#1-8-纹理" class="headerlink" title="1.8 纹理"></a>1.8 纹理</h2><p>使模型表面赋有更多的细节，就需要给它添加纹理；<br>比如：在Assets中新建一个material材质球 拖拽到 Object 上，通过右侧的面板修改材质球上的纹理属性间接修改Object</p>
<h2 id="1-9-材质和着色器"><a href="#1-9-材质和着色器" class="headerlink" title="1.9 材质和着色器"></a>1.9 材质和着色器</h2><p>材质能够将纹理应用在模型上，着色器决定纹理呈现出的最终效果；</p>
<hr>
<h1 id="2-工程与应用程序"><a href="#2-工程与应用程序" class="headerlink" title="2. 工程与应用程序 #"></a>2. 工程与应用程序 #</h1><p><strong>项目目录下：</strong>  </p>
<ul>
<li>Assets 里面存放的是项目所需要的资源；  </li>
<li>Library 里面存放的是所需要的库文件；  </li>
<li>ProjectSettings 里面存放的是工程设置文件；  </li>
<li>Temp 里面存放的是临时文件；  </li>
</ul>
<p><strong>项目框架：</strong><br>一个工程里面有多个场景，一个场景中有多个游戏对象，每个游戏对象又有多个组件；  </p>
<pre><code>                工程(Project)  
                     |  
                   /   \  
           场景(Scene)  场景(Scene) ... ...  
                |
             /      \  
游戏对象(GameObject)   游戏对象(GameObject) ... ...
              |  
          /        \  
  组件(Component)  组件(Component) ... ...  
</code></pre><p>每个场景可以理解为每个界面；  </p>
<p><strong>组件开发：</strong><br>游戏物体想要实现什么功能，只需要添加对应的组件即可，我们可以在Inspector视图中查看当前游戏对象身上的组件，修改组件的属性；  （Inspector）</p>
<ul>
<li>Transform 组件，决定物体的位置，旋转和缩放；</li>
<li>Mesh Filter 组件，显示网格；</li>
<li>Box Collider 组件，用来给物体添加碰撞器；</li>
<li>Mesh Renderer 组件，可以给物体添加材质，纹理以及渲染的方式；</li>
</ul>
<p><strong>脚本组件：</strong><br>脚本也是一种特殊的组件；<br>创建脚本；<br>在脚本中设置公共字段作为组件属性；<br>在脚本中通过方法获取游戏对象和组件；</p>
<p>用Mono编辑脚本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">// 如果我们的脚本需要挂载到游戏对象身上，就需要继承于 MonoBehaviour</span><br><span class="line">public class TestCS : MonoBehaviour &#123;</span><br><span class="line"></span><br><span class="line">	public int age;</span><br><span class="line">	public string name;</span><br><span class="line"></span><br><span class="line">	// Use this for initialization</span><br><span class="line">	void Start () &#123;</span><br><span class="line">		// gameObject 表示当前脚本组件所挂载的游戏对象</span><br><span class="line">		// unity 中输出到控制台使用 print 或者 Debug.log</span><br><span class="line">		print (&quot;Test 脚本挂在到了 &quot; + gameObject.name + &quot; 的身上&quot;);</span><br><span class="line">		// 每个游戏对象上都至少有一个组件，叫做 Transform</span><br><span class="line">		// transform 表示当前游戏对象身上的 Transform 组件</span><br><span class="line">		print(transform.position.x);</span><br><span class="line">		print(name + age);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// Update is called once per frame</span><br><span class="line">	void Update () &#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：<br><img src="http://ww4.sinaimg.cn/mw690/a53846c3gw1f9kivbmnucj20h007wdgr.jpg" alt=""><br>对应的Inspector：<br><img src="http://ww3.sinaimg.cn/mw690/a53846c3gw1f9kivb4iupj20fc0hewgs.jpg" alt=""></p>
<p>可以再添加一个脚本Demo.cs，修改TestCS.cs的属性,可以改变Cube的Script内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">public class Demo : MonoBehaviour &#123;</span><br><span class="line"></span><br><span class="line">	// Use this for initialization</span><br><span class="line">	void Start () &#123;</span><br><span class="line">		// GameObject de fangfa GetComponent, nenggou</span><br><span class="line">		// huoqu dangqian youxi duixiang shenshang zhiding de leixing de zujian duixiang </span><br><span class="line">		TestCS t = GetComponent&lt;TestCS&gt; ();</span><br><span class="line">		t.age = 24;</span><br><span class="line">		t.name = &quot;Da Wang&quot;;</span><br><span class="line">		t.Log();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// Update is called once per frame</span><br><span class="line">	void Update () &#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="http://ww3.sinaimg.cn/mw690/a53846c3gw1f9kj8bj50kj20fa0ci0ub.jpg" alt=""></p>
<hr>
<h1 id="3-Unity-脚本"><a href="#3-Unity-脚本" class="headerlink" title="3. Unity 脚本 #"></a>3. Unity 脚本 #</h1><h2 id="3-1-生命周期"><a href="#3-1-生命周期" class="headerlink" title="3.1 生命周期  #"></a>3.1 生命周期  #</h2><p>Awake –&gt; OnEnable –&gt; Start<br> ==》Update –&gt; LateUpdate ==》<br> OnDisable –&gt; OnDestroy</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">// 继承于 MonoBehaviour 的类叫做运行时类，运行时类都不能手动实例化，eg：不能 new: Test t = new Test()</span><br><span class="line">public class Test : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">	// 这些方法都不是 MonoBehaviour 中定义的方法，而是通过反射调用的一些事件。方法名写错不会报错</span><br><span class="line">	// 这些方法定义了一个脚本从被加载到被销毁的过程中，脚本的生命周期</span><br><span class="line"></span><br><span class="line">	// 1.每当脚本被加载时调用，调用 1 次；在Awake中做一些初始化操作（放 public 字段）；</span><br><span class="line">	void Awake ()</span><br><span class="line">	&#123;</span><br><span class="line">		// 初始化 public 成员	</span><br><span class="line">		print (&quot;Awake&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 2. 在每次激活脚本的时候就会调用 OnEnable，比如计时器重置；</span><br><span class="line">	void OnEnable ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;onEnable&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 2. 在第一次调用 Update 之前调用一次 Start 方法，然后中途不管激活取消激活，都不会再调用了</span><br><span class="line">	// 在Start方法中也可以做一些初始化操作（主要放私有字段）；</span><br><span class="line">	void Start ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;Start&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 3.每帧都会调用一次 Update，每秒接近60帧，所以每秒大概调用60次左右</span><br><span class="line">	void Update ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;Update&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 4. 在Update调用之后进行调用，刷新其它逻辑的时候</span><br><span class="line">	void LateUpdate ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;LateUpdate&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 5. 取消激活状态后调用</span><br><span class="line">	void OnDisable ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;OnDisable&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 6.被销毁时调用一次</span><br><span class="line">	void OnDestroy ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;OnDestroy&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 用来写 UI 的，持续调用 - 调用频率高 IMGUI代码需要写在 OnGUI 方法中</span><br><span class="line">	void OnGUI ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;OnGUI&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 以固定的频率调用（跟图像刷新无关，不受图像刷新帧速率的影响）</span><br><span class="line">	// 一般把处理物理的代码放在这里</span><br><span class="line">	void FixedUpdate ()</span><br><span class="line">	&#123;</span><br><span class="line">		print (&quot;FixedUpdate&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//public class A&#123;</span><br><span class="line">//	public void T()&#123;</span><br><span class="line">//		Test t = new Test ();// wrong</span><br><span class="line">//	&#125;</span><br><span class="line">//&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-Input-类"><a href="#3-2-Input-类" class="headerlink" title="3.2 Input 类  #"></a>3.2 Input 类  #</h2><p>Input 获取键盘事件：  </p>
<ul>
<li>Input.GetKey()</li>
<li>Input.GetKeyDown()</li>
<li>Input.GetKeyUp()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">// 继承于 MonoBehaviour 的类叫做运行时类，运行时类都不能手动实例化，eg：不能 new: Test t = new Test()</span><br><span class="line">public class Test : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">	void Start ()</span><br><span class="line">	&#123;</span><br><span class="line">		// print (&quot;Start&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 获取用户事件需要使用 Input 类</span><br><span class="line">	// GetKeyDown 按键按下 &amp; GetKeyUp 按键弹起 &amp; GetKey 检测持续按键的事件</span><br><span class="line">	void Update ()</span><br><span class="line">	&#123;</span><br><span class="line">		// 每帧都需要监听用户事件</span><br><span class="line">		// 在当前这一帧中如果用户按下了 W 就会返回 true, 否则返回 false</span><br><span class="line">		if (Input.GetKeyDown (KeyCode.W)) &#123;</span><br><span class="line">			print (&quot;往前走.&quot;);</span><br><span class="line">		&#125;else if(Input.GetKeyDown(KeyCode.S))&#123;</span><br><span class="line">			// Debug.Log (&quot;往后退.&quot;);</span><br><span class="line">			print (&quot;往后退.&quot;);// print 只能在 MonoBehaviour 的子类中使用</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if(Input.GetKeyUp(KeyCode.Alpha1))&#123;</span><br><span class="line">			print (&quot;弹起了 1 键&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if(Input.GetKey(KeyCode.F))&#123;</span><br><span class="line">			print (&quot;按了 F 键&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		// GetMouseButtonDown用来检测鼠标按键按下的事件 &amp; </span><br><span class="line">		// 参数 0 表示鼠标左键 &amp; 参数 1 表示鼠标右键 &amp; 参数 2 表示中键</span><br><span class="line">		if(Input.GetMouseButtonDown(0))&#123;</span><br><span class="line">			print (&quot;按下了鼠标左键&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if(Input.GetMouseButtonUp(0))&#123;</span><br><span class="line">			print (&quot;弹起了鼠标左键&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if(Input.GetMouseButton(0))&#123;</span><br><span class="line">			print(&quot;持续按下了鼠标左键&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果截图:<br><img src="http://ww3.sinaimg.cn/mw690/a53846c3gw1f9kr378a3zj211g0d8410.jpg" alt=""></p>
<hr>
<p>Name  Tag ActiveSelf SetActive() GetComponent<t>() AddComponent<t>()<br>GetComponent<t>() AddComponent<t>()<br>Destroy() FindGameObjectWithTag() FindGameObjectsWithTag()</t></t></t></t></p>
<h2 id="3-3-GameObject"><a href="#3-3-GameObject" class="headerlink" title="3.3. GameObject  #"></a>3.3. GameObject  #</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">// 继承于 MonoBehaviour 的类叫做运行时类，运行时类都不能手动实例化，eg：不能 new: Test t = new Test()</span><br><span class="line">public class Test : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">	// GameObject - 游戏对象类</span><br><span class="line">	void Start ()</span><br><span class="line">	&#123;</span><br><span class="line">		// 通过 gameObject 获取当前脚本所挂载的游戏对象</span><br><span class="line">		// 一般来说, 在属性视图中能够看到或修改的属性, 也能够在脚本中进行获取并且修改</span><br><span class="line"></span><br><span class="line">		// 1. 获取 &amp; 设置游戏对象的名字</span><br><span class="line">		print (&quot;gameObject.name =&gt; &quot; + gameObject.name);</span><br><span class="line">		gameObject.name = &quot;小胡 Cube&quot;;</span><br><span class="line">		print (&quot;经修改的 gameObject.name =&gt; &quot; + gameObject.name);</span><br><span class="line"></span><br><span class="line">		//2. 获取 &amp; 设置游戏对象的 Tag</span><br><span class="line">		print (&quot;gameObject.tag =&gt; &quot; + gameObject.tag);</span><br><span class="line">		gameObject.tag = &quot;Player&quot;;</span><br><span class="line">		print (&quot;经修改的 gameObject.tag =&gt; &quot; + gameObject.tag);</span><br><span class="line"></span><br><span class="line">		// 3. 获取 &amp; 设置当前游戏对象的激活状态</span><br><span class="line">		print (&quot;gameObject.activeSelf 是否激活 =&gt; &quot; + gameObject.activeSelf);</span><br><span class="line">		gameObject.SetActive (false);</span><br><span class="line">		print (&quot;经重置的 gameObject.activeSelf 是否激活 =&gt; &quot; + gameObject.activeSelf);</span><br><span class="line"></span><br><span class="line">		// 4. 获取游戏对象身上的组件 eg: transform</span><br><span class="line">		// 在 Test.cs 中获取 CubeController 组件</span><br><span class="line">		CubeController c = gameObject.GetComponent&lt;CubeController&gt; ();</span><br><span class="line">		print (c.balabala); // 获取组件</span><br><span class="line">		Light l = gameObject.AddComponent&lt;Light&gt; (); // 添加组件</span><br><span class="line"></span><br><span class="line">		// 5. 通过 tag 的值查找游戏对象</span><br><span class="line">		GameObject g = GameObject.FindGameObjectWithTag (&quot;Player&quot;);</span><br><span class="line">		g.name = &quot;小胡 Sphere&quot;;</span><br><span class="line">		// 另一种写法</span><br><span class="line">		GameObject gg = GameObject.FindWithTag (&quot;Player&quot;);</span><br><span class="line"></span><br><span class="line">		// 6. 通过游戏对象名查找游戏对象</span><br><span class="line">		GameObject ggg = GameObject.Find (&quot;Main Camera&quot;);</span><br><span class="line">		ggg.name = &quot;主摄像机&quot;;</span><br><span class="line"></span><br><span class="line">		// 7. 通过 tag 值查找多个游戏对象</span><br><span class="line">		GameObject[] gs = GameObject.FindGameObjectsWithTag(&quot;Player&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	void update ()</span><br><span class="line">	&#123;</span><br><span class="line">//		if (Input.GetKeyDown (KeyCode.S)) &#123;</span><br><span class="line">//			// 2 秒钟之后销毁游戏对象</span><br><span class="line">//			GameObject.Destroy (gameObject, 2f);</span><br><span class="line">//		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">public class CubeController : MonoBehaviour &#123;</span><br><span class="line"></span><br><span class="line">	public string balabala;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/mw690/a53846c3gw1f9pneru0cmj20fe0aggnh.jpg" alt=""><br><img src="http://ww4.sinaimg.cn/mw690/a53846c3gw1f9pnesr91tj20fo08imyy.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/mw690/a53846c3gw1f9pneu7zb0j20fc0jo0vd.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/mw690/a53846c3gw1f9pneuyip6j20b406kjrr.jpg" alt="">   </p>
<p>运行结果<br><img src="http://ww4.sinaimg.cn/mw690/a53846c3gw1f9pnetx5yqj211c0esdj1.jpg" alt=""> </p>
<h1 id="4-Unity-常识知识点总结"><a href="#4-Unity-常识知识点总结" class="headerlink" title="4. Unity 常识知识点总结 #"></a>4. Unity 常识知识点总结 #</h1><h2 id="4-1-关于程序"><a href="#4-1-关于程序" class="headerlink" title="4.1 关于程序  #"></a>4.1 关于程序  #</h2><p>基本组成:</p>
<ol>
<li>Sence 场景,类似于 Flash 中的 stage, 用于放置各种对象</li>
<li>GameObject, 可以携带各种 Component;</li>
</ol>
<p>每个 GameObject 至少带有 Transform 组件, 所有的组件都可以从顶部菜单 Component 里面找到并添加给游戏对象; </p>
<p>脚本语言:</p>
<ul>
<li>C# / Javascript / boo (前两者使用较为广泛, 网上教程以前两者为主, 个人推荐 C#),一般的继承 MonoBehavior 类的脚本都需要依附的场景中的对象上才能被执行.</li>
</ul>
<p>GUI(用户图形界面):</p>
<ul>
<li>用于制作按钮/文本显示/滚动条/下拉框等常用图形操作界面元素,使用 GUISkin 和 GUIStyle 可以自定义样式;</li>
<li>系统自带 GUI;</li>
<li>各类 GUI 插件, NGUI/EZGUI 等;</li>
</ul>
<p>预制:</p>
<ul>
<li>用于程序运行时,动态实例化对象的”母体”,比如,在射击类游戏中,子弹的生成就可以使用实例化预制的方式来实现,可以定义它的各种属性方法, 然后在使用的时候直接实例化一个实例;</li>
<li>在 project 面板右击选择 Create -&gt; Prefab 新建一个预制, 将 Hierarchy 面板中要制成的对象拖到这个新建预制上即可;</li>
</ul>
<p>标签:</p>
<p>tag 用于辨别物体, 与 name 类似,使用对象的 tag 和 name 都可以找到对应的物体, GameObject.Find(“name”) 或 GameObject.FindWithTag(“Tag”); 默认的是 Untagged,可以通过 Inspector 面板里面 Tag 的下拉菜单选择 Add Tag 项来添加新的标签; Inspector -&gt; TagManager -&gt; Tags 里的 size 来增加标签的数量, 每个 Element 内都填入新标签的名字;</p>
<p>层:</p>
<p>在使用某些功能的时候, 可以通过层来过滤不需要运用该功能的对象, 也就是把该功能运用到特定的层, 比如, 相机的 Culling Mask 属性, 通过选择特定层可以实现只显示位于被选中的层的对象.<br>层的添加也是在标签管理器中, Unity 已经设置了8个层,你是不能对这8个层进行修改的,你可以从第9个(也就是 user layer8)开始添加你定义的层;</p>
<p> 资源:</p>
<ul>
<li>.unitypackage 格式的文件可以直接 import 到 unity 中,记住最好是在打开 unity 的情况下,在 project 面板里右击,然后在 import packages 中选中你要导入的资源;</li>
<li>可以 export package 导出场景成为 .unitypackage 资源包</li>
<li><p>在工程面板可以 import new assests 可以导入其他形式的资源, 如, 模型/音频/视频等, 也可直接从外部文件夹中拖入</p>
<p>物理引擎:</p>
<p>unity 使用 nvidia PhysX 物理引擎</p>
</li>
<li><p>碰撞器: 各种基本体的碰撞器(box/sphere/capsule/cylinder), 网格碰撞器(mesh collider),车轮碰撞器(Wheel collider),地形碰撞器(terrain collider) 碰撞器组件在你选中对象的时候会以绿色框显示;</p>
</li>
<li>碰撞检测: 碰撞器碰撞检测 / 光线投射(射线) / 触发器碰撞检测, 通过碰撞检测可以得到与当前对象发生碰撞的对象信息, 使用碰撞的相关函数 OnCollisionEnter(碰撞器碰撞检测) / OnTriggerEnter(触发器碰撞检测) / Physics.Raycast(光线投射)获取;</li>
<li>刚体: 模拟物体物理现象的基础, 加了刚体组件才能模拟重力 / 阻力等;</li>
<li><p>力: 作用于刚体,你只要通过添加各种力, 就可以使刚体表现出跟现实中一样的受力情况;</p>
<p>粒子系统:</p>
</li>
<li><p>两种形式, 一种以物体携带例子系统组件的形式实现, 另一种是直接使用粒子系统 GameObject(3.5 以后)</p>
</li>
<li>粒子系统 GameObject: GameObject – Create Other – Particle System</li>
<li><p>粒子系统组件: 粒子发射器(Particle Emitter, 有 Ellipsoid Particle Emitter 和 Mesh Particle Emitter 两种类型的粒子发射器, 主要有 粒子产生 / 数量 / 速度 / 大小 / 存活时间等参数设置), 粒子动画器(Particle Animator, 主要负责粒子产生后直至粒子消亡的行为变化的控制, 包括运动过程中的旋转 / 受力等), 粒子渲染器(Particle Renderer, 主要是负责给予粒子的渲染,阴影,材质等设定)</p>
<p>Camera(相机):</p>
</li>
<li><p>相机视角: 透视(可调整透视角度) / 正交(没有透视效果)</p>
</li>
<li>Skybox: 只在 Game 窗口可见, 需要 skybox 类型的 shader, 以及附在其上的六面贴图纹理</li>
<li>第一人称视角: 角色不出现在视野中, 相机看到的就像角色双眼看到的一样</li>
<li>第三人称视角: 能在视野中看到角色, 相机一直跟着角色运动.</li>
<li><p>可以使用导入 Unity 自带的 Character Controllers 资源包, 里面有第一人称和第三人称的原型</p>
<p>光照系统: </p>
</li>
</ul>
<ul>
<li>常见灯光类型: 平行光(Directional light, 无衰减, 模拟太阳光)</li>
<li>聚光灯(spotlight, 从一点向某一方向反射锥形光束, 有衰减, 聚光效果)</li>
<li>点光源(Point light, 从一点向外辐射, 有衰减) </li>
<li>烘焙: 将静态光影效果渲染到纹理上, 减少灯光和阴影带来的开销</li>
<li>阴影: 分为 hard shadows 和 soft shadows 两种, 前一种阴影比较重, 后一种相对柔和.</li>
<li>要产生阴影,还需要将投射阴影的对象的 Cast shadows 都选, 将接受阴影的对象的 Receive shadows 勾选, eg: 你要让树在地面上产生阴影, 那就得让树投射阴影, 然后让地面接受阴影才行;</li>
</ul>
<p>地形系统:</p>
<p>选择顶部菜单 Terrain – creat terrain 创建一个地形<br>地形有一组地形工具用来绘制地形的高度, 生成各种地貌, 并且可以对地表运用纹理, 还可以添加树,草等地表植被. </p>
<h2 id="4-2-关于美术"><a href="#4-2-关于美术" class="headerlink" title="4.2 关于美术 #"></a>4.2 关于美术 #</h2><p>3d 模型 / 材质 / 纹理(贴图)<br>shader(着色器, Unity 本身拥有几十种 shader, 也可以根据自己的需要使用 shaderLab 语言来编写 shader,一般可以只用 Unity 自带的和网上流传的)</p>
<h2 id="4-3-关于发布"><a href="#4-3-关于发布" class="headerlink" title="4.3 关于发布  #"></a>4.3 关于发布  #</h2><p>关于 Player settings 播放器设置的话这里暂且不多说，发布的时候通过 player setting 进行发布设置，每个平台都有对应的设置参数，根据需要来设置，主要 是关于程序图 标、分辨 率、渲染 等设置， 大家可以 自己试试 (有些参 数只有 pro 版才能设置)。<br>下面我们来看看 build settings 对话框，左侧是可发布的平台(Unity 跨平台性 很强大，4.0 已支持发布至 10 种平台:IOS、Andriod、Windows、Mac、Linux、 Webplayer、Flash、PS3、Xbox360、Wii u)，右侧是对应平台的发布设置，一 般初学的话，只要会发布单机版的和 webplayer 的就差不多了，这两个的话， 右侧的发布选项按照默认的设置就可以，当然单机版要在 Target Platform 中选 择对应的操作系统，webplayer 的话这里我给大家介绍前两个参数，Streamed 顾名思义就是在网络上下载的时候以流的形式，Offline Deployment，这个是 可以在离线(断网)状态下本地运行你的 webplayer 程序(这里需要注意的是， 默认情况下你每次打开 webplayer 程序的时候，浏览器都会自动去访问官网更 新 webplayer 插件，如果你没勾选这个选项而又在没有联网的状态下运行 webplayer 的话是无法运行的)</p>
<p>End.</p>
<p>Note by <a href="http://isayes.github.io" target="_blank" rel="external">HF</a>.  </p>
<hr>

      
    </div>
    <footer>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>
<!-- hackish -->

  
</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 HuFei
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="http://apps.bdimg.com/libs/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>